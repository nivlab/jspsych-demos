<!DOCTYPE html>
<html>
<head>
  <title>Fishing Game</title>

  <!-- Load libraries -->
  <script src="https://unpkg.com/jspsych@7.3.3"></script>

  <!-- Initialize jsPsych -->
  <script src="./js/init-jspsych.js"></script>

  <!-- Load jsPsych plug-ins -->
  <script src="./js/plugin-rst-trial.js" ></script>
  <script src="https://unpkg.com/@jspsych/plugin-instructions@1.1.3"></script>
  <script src="https://unpkg.com/@jspsych/plugin-preload@1.1.2"></script>
  <script src="https://unpkg.com/@jspsych/plugin-fullscreen@1.1.2"></script>

  <!-- Load experiment -->
  <script src="./js/rst-experiment.js"></script>

  <!-- Load CSS styles -->
  <link href="https://unpkg.com/jspsych@7.3.3/css/jspsych.css" rel="stylesheet" type="text/css" />
  <link href="./css/fishing-competition.min.css" rel="stylesheet" type="text/css"></link>

</head>
<body></body>
<script>

  // Define images to preload.
  preload_images = [
    "./img/cloud01.svg",
    "./img/cloud02.svg",
    "./img/cloud03.svg",
    "./img/animal-fish01.svg",
    "./img/animal-fish02.svg",
    "./img/animal-tire.svg",
    "./img/animal-lion.svg",
    "./img/animal-monkey.svg",
    "./img/animal-snake.svg",
    "./img/no-fishing.svg",
    "./img/surfboard-blue.svg",
    "./img/surfboard-green.svg",
    "./img/surfboard-purple.svg",
    "./img/surfboard-red.svg",
  ];

  // Define image preloading.
  // Define image preloading.
  var PRELOAD = {
    type: jsPsychPreload,
    images: preload_images,
    message: 'Loading images. This may take a moment depending on your internet connection.',
    error_message: '<p>The experiment failed to load. Please try restarting your browser.</p><p>If this error persists after 2-3 tries, please contact the experimenter.</p>',
    continue_after_error: false,
    show_progress_bar: true,
    max_load_time: 30000
  }

  // Define experiment fullscreen.
  var FULLSCREEN = {
    type: jsPsychFullscreen,
    fullscreen_mode: true
  }

  // Define instructions.
  var INSTRUCTIONS = {
    type: jsPsychInstructions,
    pages: [
      "<p>In this game, you will be fishing at different beaches.</p><p>You can tell each beach apart by the surfboard in the sand.</p>",
      "<p>Your goal is to try to find at which beach you can catch the most fish.</p><p>You will catch more fish at some beaches than others.</p>",
      "<p>Use the <b>left/right arrow keys</b> on your keyboard to choose a beach to fish at.</p><p>Good luck!</p>"
    ],
    key_forward: 'ArrowRight',
    key_backward: 'ArrowLeft',
    show_clickable_nav: true,
    button_label_previous: 'Prev',
    button_label_next: 'Next'
  }

  // Define timeline.
  var timeline = [];
  timeline = timeline.concat(PRELOAD);
  timeline = timeline.concat(FULLSCREEN);
  timeline = timeline.concat(INSTRUCTIONS);
  timeline = timeline.concat(rst_trials);

  // Execute timeline.
  jsPsych.run(timeline);

</script>
</html>
