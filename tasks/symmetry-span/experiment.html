<html>

<head>
  <title>WM symmetry span task</title>

  <!-- Load libraries -->
  <script src="../../lib/jspsych-7.3.1/jspsych.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/jstat@latest/dist/jstat.min.js"></script>

  <!-- Initialize jsPsych -->
  <script src="./js/init-jspsych.js"></script>

  <!-- Load jspsych plugins -->
  <script src="./js/plugin-symmetry-judgement-task.js"></script>
  <script src="./js/plugin-symmetry-judgement-task-display.js"></script>
  <script src="./js/plugin-symmetry-judgement-task-response.js"></script>
  <script src="./js/plugin-spatial-span.js"></script>
  <script src="./js/plugin-spatial-span-recall.js"></script>
  <script src="../../lib/jspsych-7.3.1/plugins/plugin-html-keyboard-response.js"></script>
  <script src="../../lib/jspsych-7.3.1/plugins/plugin-instructions.js"></script>
  <script src="../../lib/jspsych-7.3.1/plugins/plugin-preload.js"></script>

  <!-- Load experiment -->
  <script src="./js/engle_stimuli.js"></script>
  <script src="./js/symmetry-span.js"></script>

  <!-- Load CSS styles -->
  <link href="./css/jspsych_grid.css" rel="stylesheet" type="text/css">

  </link>
</head>

<body></body>
<script>

  var preload = {
    type: jsPsychPreload,
    images: [
      "./img/symmetrySpanExampleGridEmpty.png",
      "./img/instructions1.png",
      "./img/instructions2.png",
      "./img/instructions3.png",
      "./img/instructions4.png",
      "./img/blackbox.png",
      "./img/whitebox.png",
      "./img/whitegrid.png",
    ],
    message: 'Loading images. This may take a moment depending on your internet connection.',
    error_message: '<p>The experiment failed to load. Please try restarting your browser.</p><p>If this error persists after 2-3 tries, please contact the experimenter.</p>',
    continue_after_error: false,
    show_progress_bar: true,
    max_load_time: 30000
  }

  // Initialize timeline.
  var timeline = [];
  timeline = timeline.concat(preload);
  timeline = timeline.concat(instructions);
  timeline = timeline.concat(squaresDemo);
  timeline = timeline.concat(instructions2);
  timeline = timeline.concat(symmetryDemo);
  timeline = timeline.concat(instructions3);
  timeline = timeline.concat(fullDemo);
  timeline = timeline.concat(instructions4);
  timeline = timeline.concat(test_procedure);

  // Execute timeline.
  jsPsych.run(timeline);

</script>
</html>
